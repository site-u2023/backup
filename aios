#!/bin/sh
# License: CC0
# OpenWrt >= 19.07

SELECTED_LANGUAGE=$1
BASE_URL="https://raw.githubusercontent.com/site-u2023/aios/main/"
BASE_DIR="/tmp/aios/"
SUPPORTED_VERSIONS="19 21 22 23 24 SN"

run_script() {
    
    echo "RELEASE_VERSION=${RELEASE_VERSION}" > ${BASE_DIR}check_version
    sh "${BASE_DIR}openwrt-config.sh"
}

mkdir -p "$BASE_DIR"
wget --no-check-certificate -O "${BASE_DIR}common-functions.sh" "${BASE_URL}common-functions.sh"
wget --no-check-certificate -O "${BASE_DIR}openwrt-config.sh" "${BASE_URL}openwrt-config.sh"

source "${BASE_DIR}common-functions.sh"

echo -e "$(color "red_white" "    Disclaimer: Use this script at your own risk.     ")"

echo -e "$(color "white"     "     Dedicated configuration software for OpenWrt     ")"ã€€
echo -e "$(color "white"     "                                                      ")"
echo -e "$(color "magenta"   "                    ii i                              ")"
echo -e "$(color "blue"      "         aaaa      iii       oooo      sssss          ")"
echo -e "$(color "cyan"      "            aa      ii      oo  oo    ss              ")"
echo -e "$(color "green"     "         aaaaa      ii      oo  oo     sssss          ")"
echo -e "$(color "yellow"    "        aa  aa      ii      oo  oo         ss         ")"
echo -e "$(color "red"       "         aaaaa     iiii      oooo     ssssss          ")"
echo -e "$(color "white"     "                                                      ")"
echo -e "$(color "white"     "                  all in one scripts                  ")"
echo -e "$(color "white"     "                                                      ")"

check_common
run_script
